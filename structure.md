# Структура хранения Second Brain

## Обзор архитектуры

Second Brain организован в виде иерархической файловой структуры для эффективного хранения и поиска контента. Основной принцип - разделение по пользователям с последующей категоризацией контента.

```
users/
└── lexey/                           # Пользовательская папка Second Brain
    ├── downloads/                   # Автоматически создаваемые папки контента
    ├── Context/                     # Личная информация для персонализации
    ├── Goals/                       # Система целеполагания
    ├── Reviews/                     # Ретроспективы и анализ
    ├── Projects/                    # Проектная документация
    ├── Meetings/                    # Записи встреч
    ├── achievements/                # Архив достижений
    └── SETUP-GUIDE.md               # Руководство по настройке
```

## Детальная структура

### downloads/ - Хранилище скачанного контента

#### Формат именования папок
```
YYYY-MM-DD_HH-MM_platform_SlugTitle
├── YYYY-MM-DD    # Дата создания контента
├── _HH-MM        # Время создания
├── _platform     # Источник: instagram, youtube, telegram, note, temp
└── _SlugTitle    # Заголовок в slug-формате (пробелы → _, спецсимволы очищены)
```

#### Возможное наполнение каждой папки

**Обязательные файлы:**
- `description.md` - Метаданные и описание контента
  - YAML frontmatter с title, author, date, tags, source, type
  - Базовое описание контента

**Условные файлы (зависят от типа контента):**
- `transcript.md` - Транскрипция аудио/видео через Whisper AI
  - Полный текст с временными метками
  - Информация о модели распознавания и длительности
- `Knowledge.md` - AI-анализ через Ollama
  - Автоматическое саммари и ключевые инсайты
  - Связи с другими заметками
- `caption.md` - Подпись к контенту (для Telegram видео)
  - Оригинальный текст подписи

**Медиа-файлы:**
- Видео: `.mp4`, `.webm`, `.mov`
- Аудио: `.mp3`, `.wav`, `.m4a`
- Изображения: `.jpg`, `.png`, `.webp`
- Документы: `.pdf`, `.docx`

**Специальные папки:**
- `vector_db/` - Векторная база для семантического поиска
  - `chroma.sqlite3` - База данных ChromaDB

### Context/ - Личная информация

- `about-me.md` - Личные данные, профиль, контактная информация
- `work-rhythm.md` - Рабочий график, привычки, продуктивность
- `current-focus.md` - Текущие приоритеты и цели
- `calendar-system.md` - Настройки календарей и системы планирования

### Goals/ - Система целеполагания

Пустые папки для создания иерархии целей:
- Годовые цели: `2026.md`
- Квартальные: `Q1-2026.md`, `Q2-2026.md`, etc.
- Месячные: `January-2026.md`, `February-2026.md`, etc.

### Reviews/ - Ретроспективы

Документы анализа и обзоров:
- Месячные ретроспективы: `2026-January.md`
- Квартальные обзоры: `2025-Q4.md`
- Годовые ретроспективы: `2025.md`

### Projects/ - Проектная документация

Подпапки для каждого проекта:
```
Projects/
├── ProjectName/
│   ├── README.md          # Описание проекта
│   ├── roadmap.md         # Дорожная карта
│   ├── meetings/          # Встречи по проекту
│   └── notes/             # Рабочие заметки
```

### Meetings/ - Записи встреч

Файлы саммари встреч:
- `2026-01-15_ClientMeeting.md`
- `2026-01-20_TeamStandup.md`

### achievements/ - Архив достижений

- `index.md` - Главная страница достижений
- `skills.md` - Навыки и компетенции
- `education.md` - Образование и пройденные курсы
- `values.md` - Личные ценности и принципы
- `README.md` - Описание системы достижений
- `yearly/` - Годовые достижения (2020.md, 2021.md, etc.)

## Формат Markdown файлов

Все `.md` файлы используют единый формат с YAML frontmatter:

```yaml
---
title: "Название документа"
date: "2026-01-26"
tags: ["тег1", "тег2", "тег3"]
author: "Имя автора"  # опционально
source: "платформа"   # instagram, youtube, telegram, manual
type: "тип файла"     # description, transcript, knowledge, context, goal, etc.
processed: true       # для Knowledge.md файлов
---
# Содержимое в Markdown формате

Основной текст документа...
```

## Принципы организации

### Автоматическое создание
- Папки в `downloads/` создаются автоматически через Telegram бота
- Файлы `description.md`, `transcript.md`, `Knowledge.md` генерируются пайплайном

### Ручное ведение
- Файлы в `Context/`, `Goals/`, `Reviews/`, `Projects/`, `Meetings/` создаются вручную
- `achievements/` ведется регулярно для отслеживания прогресса

### Именование
- Consistent slug format для автоматических папок
- Человеко-читаемые имена для ручных файлов
- Дата-first подход для сортировки

### Метаданные
- YAML frontmatter для структурированных данных
- Теги для категоризации и поиска
- Связи между документами через ссылки

## Статистика текущей структуры

- **Всего папок:** 32 (включая подпапки downloads)
- **Markdown файлов:** 67 активных + шаблоны
- **Медиа-файлов:** ~25
- **Векторных баз:** 1 (ChromaDB)
- **Платформ контента:** Instagram, YouTube, Telegram, Notes

## Интеграция с системой

- **Telegram Bot:** Автоматически сохраняет контент в `downloads/`
- **MCP Server:** Предоставляет API доступ к данным
- **Claude Desktop:** Подключается для анализа через Context файлы
- **RAG система:** Использует vector_db для семантического поиска